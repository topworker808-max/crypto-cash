(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[659],{6659:function(e,t,n){Promise.resolve().then(n.t.bind(n,5878,23)),Promise.resolve().then(n.bind(n,6055)),Promise.resolve().then(n.bind(n,769)),Promise.resolve().then(n.bind(n,7066)),Promise.resolve().then(n.bind(n,6060))},6055:function(e,t,n){"use strict";n.d(t,{default:function(){return l}});var a=n(7437),i=n(3464),s=n(2265),r=n(7648);function l(){let[e,t]=(0,s.useState)(!1),[n,r]=(0,s.useState)([]),l=async e=>{try{let t=await i.Z.get("https://ex-crm.com/api/atm?lat=".concat(null==e?void 0:e.latitude,"&lng=").concat(null==e?void 0:e.longitude));200===t.status&&r(t.data)}catch(e){}finally{t(!1)}};return(0,a.jsxs)("div",{className:"flex flex-col bg-white dark:bg-gray-800 rounded-[12px] p-1.5 gap-3 my-4 mx-[16px]",children:[(0,a.jsx)("button",{className:"bg-sky-600 dark:bg-[#56647B] text-white py-2 rounded-[16px]",onClick:()=>{t(!0),"geolocation"in navigator?navigator.geolocation.getCurrentPosition(e=>l({latitude:e.coords.latitude,longitude:e.coords.longitude})):t(!1)},children:"ÐÐ°Ð¹Ñ‚Ð¸ Ð±Ð»Ð¸Ð¶Ð°Ð¹ÑˆÐ¸Ð¹ ATM"}),e?(0,a.jsx)("div",{className:"h-[100px] flex items-center justify-center",children:(0,a.jsx)("span",{className:"font-[500] dark:text-white",children:"Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ°"})}):(null==n?void 0:n.length)>0&&(0,a.jsx)("div",{className:"flex flex-col gap-3",children:n.map(e=>(0,a.jsx)(c,{...e},e.id))})]})}let c=e=>(0,a.jsxs)("div",{className:"border flex gap-3 justify-between rounded-[14px]",children:[(0,a.jsxs)("div",{className:"flex items-center truncate gap-3",children:[(0,a.jsx)("img",{className:"h-[50px] w-[50px] rounded-[16px]",src:e.logo}),(0,a.jsx)("span",{className:"font-[500] dark:text-white flex-1 truncate",children:e.name})]}),(0,a.jsx)("div",{className:"min-w-[120px]",children:(0,a.jsxs)(r.default,{href:null==e?void 0:e.map_url,target:"_blank",className:"bg-[#EBEBEB] gap-2 text-[15px] dark:bg-[#56647B] dark:border-none border border-[#c2c2c2] flex justify-center items-center w-full px-2 py-[10px] rounded-[8px]",children:[(0,a.jsxs)("span",{className:"font-[500] dark:text-white whitespace-nowrap",children:[e.distance.toFixed(2)," km"]}),(0,a.jsx)("img",{src:"https://ex24images.b-cdn.net/internal/location.png",className:"h-[22px] object-contain w-[22px]",alt:""})]})})]})},769:function(e,t,n){"use strict";n.d(t,{default:function(){return s}});var a=n(7437),i=n(1911);function s(e){let{value:t}=e;return(0,a.jsx)("div",{className:"flex justify-center items-center",children:(0,a.jsx)(i.QRCode,{eyeRadius:10,size:200,value:t})})}},7066:function(e,t,n){"use strict";n.d(t,{default:function(){return x}});var a=n(7437),i=n(3145),s=n(2265),r=n(6225),l=n.n(r),c=n(7230),o=n(1273),d=n(3459),u=n(595),m=n(572);function x(e){let{logoUrl:t,title:n,languages:r,serverLanguage:c}=e,[x,f]=(0,s.useState)(c),{actualTheme:p,setTheme:g}=(0,o.Z)(),[v,j]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{j(!0)},[]),(0,s.useLayoutEffect)(()=>{let e=function(e){var t;let n="; ".concat(document.cookie).split("; ".concat(e,"="));return 2===n.length&&(null===(t=n.pop())||void 0===t?void 0:t.split(";").shift())||null}("language");e&&e!==x?f(e):x!==c&&(document.cookie="language=".concat(x,"; path=/; max-age=").concat(31536e3),window.location.reload())},[x,c,f]),v)?(0,a.jsxs)("div",{className:"w-full relative flex flex-col items-center px-[16px]",children:[(0,a.jsx)("div",{className:"absolute top-3 right-5 z-10",children:(0,a.jsx)(h,{currentLang:x,languages:r,onLanguageChange:e=>{f(e),document.cookie="language=".concat(e,"; path=/; max-age=").concat(31536e3),window.location.reload()}})}),(0,a.jsx)("div",{className:"absolute top-3 left-3 z-10",children:(0,a.jsx)("button",{onClick:()=>g("light"===p?"dark":"light"),className:"px-3 py-1 rounded-md transition-colors duration-300 dark:bg-zinc-700 bg-[#f5f5f5] dark:text-white text-zinc-800 text-sm font-medium",children:"light"===p?(0,a.jsx)(u.Z,{size:22}):(0,a.jsx)(m.Z,{size:22})})}),(0,a.jsxs)("div",{className:"flex flex-col items-center md:mt-2 mt-5",children:[t&&(0,a.jsx)(i.default,{src:"light"===p?t:"https://cdn.ex-crm.com/external/57d2ff3e-c2c9-4372-9658-746995272ba6.png",alt:n||"Logo",width:190,height:190,className:"mb-2",priority:!0}),n&&(0,a.jsx)(l(),{children:n})]})]}):(0,a.jsx)("div",{className:"h-screen w-full flex justify-center items-center",children:(0,a.jsx)(d.Z,{className:"w-10 h-10 animate-spin"})})}function h(e){let{currentLang:t,languages:n,onLanguageChange:r}=e,[l,o]=(0,s.useState)(!1),d=n.find(e=>e.code===t)||{name:"English",short_name:"EN",icon:"http://purecatamphetamine.github.io/country-flag-icons/3x2/US.svg",code:"en"};return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"flex items-center cursor-pointer",onClick:()=>o(!l),children:[(0,a.jsx)(i.default,{alt:t,className:"w-[24px] border border-zinc-300 rounded-[2px]",src:d.icon,width:30,height:16}),(0,a.jsx)("span",{className:"font-[550] ml-2 text-[17px] dark:text-white",children:t.toUpperCase()}),(0,a.jsx)("div",{className:"ml-[10px]",children:l?(0,a.jsx)(c.Vmf,{className:"dark:text-white"}):(0,a.jsx)(c.OId,{className:"dark:text-white"})})]}),l&&(0,a.jsx)("div",{className:"absolute right-0 top-full mt-2 p-[2px] shadow-select dark:border-none border rounded-[10px] w-[200px] bg-white dark:bg-zinc-800 z-50",children:null==n?void 0:n.map(e=>(0,a.jsxs)("button",{onClick:()=>{r(e.code),o(!1)},className:"px-[14px] w-full flex items-center py-[8px] rounded-[12px] font-[500] ".concat(t===e.code?"bg-zinc-200 dark:bg-zinc-700":""),children:[(0,a.jsx)(i.default,{alt:e.name,className:"w-[24px] mr-[12px] rounded-[2px]",src:e.icon,width:24,height:16}),(0,a.jsx)("span",{className:"dark:text-white",children:e.name})]},e.code))})]})}},6060:function(e,t,n){"use strict";n.d(t,{default:function(){return d}});var a=n(7437),i=n(2265),s=n(7855),r=n(1273),l=n(3459);let c=(0,n(3011).U)()(e=>({selectedRegion:"thailand",setSelectedRegion:t=>e({selectedRegion:t})})),o={map:{thailand:{regex:/ðŸ‡¹ðŸ‡­.*Ñ‚Ð°Ð¸Ð»Ð°Ð½Ð´/i,name:"thailand"},bali:{regex:/ðŸ‡®ðŸ‡©.*Ð±Ð°Ð»Ð¸/i,name:"bali"},dubai:{regex:/ðŸ‡¦ðŸ‡ª.*Ð´ÑƒÐ±Ð°Ð¹/i,name:"dubai"},china:{regex:/ðŸ‡¨ðŸ‡³.*ÐºÐ¸Ñ‚Ð°Ð¹/i,name:"china"}},matchRegionWithTag:(e,t)=>{let n=o.map[null==t?void 0:t.toLowerCase()];return(null==n?void 0:n.regex.test(e))||!1},getRegionNameFromTag:e=>{for(let[,t]of Object.entries(o.map))if(t.regex.test(e))return t.name;return"thailand"}};var d=e=>{let{data:t,rates:n,mainRates:d,feedbacks:u,source:m,owner:x}=e;if(!t)return(0,a.jsxs)("div",{className:"h-screen flex items-center justify-center",children:[(0,a.jsx)(l.Z,{className:"w-10 h-10 animate-spin",color:"grey"}),"Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ°..."]});let[h,f]=(0,i.useState)(!1),{selectedRegion:p}=c(),g=(0,i.useRef)(p);(0,i.useEffect)(()=>{g.current!==p&&(g.current=p)},[p]);let v=(0,i.useMemo)(()=>"china"===p&&d&&d.length>0?d.filter(e=>e.customId===p).map(e=>({fromCurrency:e.from,fromIcon:e.fromIcon,toCurrency:e.to,toIcon:e.toIcon,rate:e.rate,fromDescription:e.fromType||"Bank",toDescription:e.toType||"Cash"})):[],[p,d]),j=(0,i.useMemo)(()=>{var e;let n=t.find(e=>"cards"===e.type);return(null==n?void 0:null===(e=n.payload)||void 0===e?void 0:e.cards)?n.payload.cards.filter(e=>e.group_name===p):[]},[t,p]),w=(0,i.useMemo)(()=>d&&d.length>0?d.filter(e=>o.matchRegionWithTag(e.tag,p)&&!0===e.is_main).map(e=>({iconAlt:"".concat(e.from," to ").concat(e.to),iconUrl:e.fromIcon||e.toIcon,text:"".concat(e.rate," ").concat(e.to),tag:o.getRegionNameFromTag(e.tag),title:"".concat(e.from," â†’ ").concat(e.to)})):[],[d,p]);(0,i.useEffect)(()=>{f(!0)},[]);let{actualTheme:b}=(0,r.Z)(),y="dark"===b,N=(0,i.useMemo)(()=>t.map(e=>{var t;return{...e,_id:null!==(t=e._id)&&void 0!==t?t:1e4*Math.random()}}),[t]),k=(0,i.useMemo)(()=>h?null==N?void 0:N.map(e=>{if(!e)return null;let t=null==e?void 0:e.payload,i=null==e?void 0:e._id;if(!t||(null==t?void 0:t.length)===0)return null;let r=s.G[e.type];if("qr_offices"===e.type&&"thailand"!==p||("cards"===e.type&&(null==t?void 0:t.cards)&&(t=null),"rate"===e.type&&("thailand"!==p||"review"===m||"reviews"===m))||("icon_with_text"===e.type&&(t.data=w),"title"===e.type&&0===j.length))return null;if("direction_rates"===e.type){if("china"!==p)return null;t={...t,rates:v}}if(r)return(0,a.jsx)(r,{rates:n,__is_dark:y,feedbacks:u,cards:j,owner:x,...t,dependencies:{storages:{useRegionStorage:c}}},i)}):null,[N,u,h,y,p,j,w,v,n,x,m]);return(0,a.jsx)("div",{className:"relative",style:{minHeight:"300px"},children:(0,a.jsx)("div",{className:"transition-opacity duration-300",children:k})})}},1273:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var a=n(2265);let i=localStorage.getItem("theme")||"system",s=new Set;function r(e){return"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e}function l(e){let t=r(e);document.documentElement.classList.toggle("dark","dark"===t),localStorage.setItem("theme",t),i=e,s.forEach(t=>t(e))}function c(){let[e,t]=(0,a.useState)(i);(0,a.useEffect)(()=>{let e=e=>t(e);s.add(e),l(i);let n=null;{n=window.matchMedia("(prefers-color-scheme: dark)");let t=()=>{"system"===i&&l("system")};return n.addEventListener("change",t),()=>{s.delete(e),n&&n.removeEventListener("change",t)}}},[]);let n=r(e);return{theme:e,actualTheme:n,setTheme:e=>{t(e),l(e)},isSystem:"system"===e}}}}]);